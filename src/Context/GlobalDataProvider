import React, { useContext, useState } from 'react';
import merge from 'deepmerge';

const GlobalDataContext = React.createContext();

export function useGlobalData() {
    return useContext(GlobalDataContext);
}

export function GlobalDataProvider({ children }) {
    const [globalDataI, setGlobalDataI] = useState({
        showLoginModal: false
    });

    function updateGlobalData(data) {
        setGlobalDataI(merge(globalDataI, data));
    }

    function setGlobalData(data) {
        setGlobalDataI(data);
    }

    return (
        <GlobalDataContext.Provider value={{globalDataI, updateGlobalData, setGlobalData}}>
            {children}
        </GlobalDataContext.Provider>
    )
}